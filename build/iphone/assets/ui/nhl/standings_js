function standings(){var e=require("services/stands"),t=new e,n=Ti.Platform.osname,r=Ti.UI.createWindow({title:"NHL Standings",backButtonTitle:"Back",backgroundColor:"#eaeaea",barColor:"#13386c"}),i=Ti.UI.createTableView();return r.add(i),Ti.App.addEventListener("get.stands",function(e){function n(e){return function(t,n){return Ti.API.info("now sorting"),t[e]>n[e]?-1:t[e]<n[e]?1:0}}function r(e){return function(t,n){return Ti.API.info("Point a is "+t+" Point b is "+n),t[e]>n[e]?-1:t[e]<n[e]?1:0}}jsonArray=JSON.parse(e.responseText);var t=jsonArray,s=[];t.sort(r("points")),t.sort(n("division")),t.sort(n("conference"));var o=function(e){var t=parseInt(e.points),n=Ti.UI.createTableViewRow({backgroundColor:"#fff",height:"50dp",width:Ti.UI.SIZE}),r=Ti.UI.createView({height:Ti.UI.SIZE,top:0,width:Ti.UI.SIZE});return n.add(r),e.conference&&r.add(Ti.UI.createLabel({color:"#000",font:{fontSize:16,fontWeight:"bold"},height:Ti.UI.SIZE,highlightedColor:"#fff",left:"50dp",top:"0dp",text:e.team,width:Ti.UI.FILL})),e.team&&r.add(Ti.UI.createLabel({color:"#666",font:{fontSize:14},height:Ti.UI.SIZE,highlightedColor:"#ddd",left:"50dp",top:"20dp",text:"Points: "+t.toFixed(0),width:Ti.UI.FILL}),Ti.UI.createLabel({color:"#666",font:{fontSize:14},height:Ti.UI.SIZE,left:"125dp",top:"20dp",highlightedColor:"#ddd",text:"W: "+e.wins+" L: "+e.losses+" OT: "+e.overtime,width:Ti.UI.FILL}),Ti.UI.createImageView({image:"http://www.corliosity.com/json/"+e.img,left:"0dp",top:"0dp"}),Ti.UI.createLabel({color:"#666",font:{fontSize:14},height:Ti.UI.SIZE,left:"240dp",top:"20dp",highlightedColor:"#ddd",text:"STK: "+e.streak,width:Ti.UI.FILL})),n},u=0,a=t.length,f="",l;for(u=0;u<a;u+=1){var c=u%2?"#fff":"#ccc";l=o(t[u]),f!==t[u].division&&(f=t[u].division,l.header=t[u].division),s.push(l),l.setBackgroundColor(c)}i.setData(s)}),r}module.exports=standings