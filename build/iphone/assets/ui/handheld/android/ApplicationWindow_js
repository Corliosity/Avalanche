function ApplicationWindow(){function o(){e.loadRssFeed({start:function(){s.show()},error:function(){s.hide()},success:function(e){i.refreshRssTable(e),s.hide()}})}var e=require("services/rss"),t=require("ui/common/MasterView"),n=require("ui/common/DetailView"),r=Ti.UI.createWindow({title:"Avs News",backgroundColor:"transparent",exitOnClose:!1,navBarHidden:!1,activity:{onCreateOptionsMenu:function(e){var t=e.menu,n=t.add({title:"Refresh"});n.setIcon("images/refresh_icon.png"),n.addEventListener("click",function(e){o()})}}});r.addEventListener("android:back",function(e){Ti.API.info("***************** CLOSE ME *****************"),r.close()});var i=new t,s=Ti.UI.createActivityIndicator({message:"Loading...",color:"#fff"});return r.add(i),i.addEventListener("itemSelected",function(e){var t=new n,r=Ti.UI.createWindow({title:"View Article",navBarHidden:!1,backgroundColor:"#fff"});r.add(t);var i;r.addEventListener("open",function(){i=Ti.UI.createActivityIndicator({location:Ti.UI.ActivityIndicator.STATUS_BAR,type:Ti.UI.ActivityIndicator.DETERMINANT,message:"Loading article..."}),i.show()}),t.addEventListener("articleLoaded",function(){i.hide()}),t.showArticle(e.link),t.showArticle(e.description),t.showTitle(e.title),t.showDate(e.pubDate),t.showImage(e.myImage),t.showLink(e.link),r.open()}),r.addEventListener("open",function(){o()}),r}module.exports=ApplicationWindow